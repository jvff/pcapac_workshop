<h1>Get Cell Value Function</h1>

<pre class="prettyprint lang-c linenums" data-step="0">__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    int2 coordinate = (int2)(get_global_id(0), get_global_id(1));

    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_CLAMP_TO_EDGE
            | CLK_FILTER_NEAREST;

    float4 colorPixel = read_imagef(sourceImage, sampler, coordinate);
    float4 colorWeights = (float4)(0.2126, 0.7152, 0.0722, 0);

    float grayscaleValue = dot(colorPixel, colorWeights);

    float4 grayscalePixel = (float4)(grayscaleValue, 0, 0, 0);

    write_imagef(destImage, coordinate, grayscalePixel);
}</pre>

<pre class="prettyprint lang-c linenums" data-step="1">__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="2">float get_cell(/**/) {
    // Create a function to get the value of a cell
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="3">float get_cell(__read_only image2d_t grid, /**/) {     // Grid status

}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="4">float get_cell(__read_only image2d_t grid, int x, int y) {
                                                // Cell coordinate
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="5">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = /**/;             // Create sampler
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="6">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE | /**/;
                                                // Direct integer coords
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="7">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT | /**/;        // Repeat to fake infinite grid
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="8">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;               // No interpolation
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="9">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = /**/;                     // Cell coordinate
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="10">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);             // Use argument values
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="11">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = /**/;                    // Obtain pixel value of cell
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="12">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = read_imagef(/**/);       // Read from grid image
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="13">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = read_imagef(grid, /**/); // Grid image
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="14">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = read_imagef(grid, sampler, /**/);
                                                // Sampler to use
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="15">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = read_imagef(grid, sampler, coordinate);
                                                // Cell coordinate
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="16">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = read_imagef(grid, sampler, coordinate);
    float cellValue = cellPixel.x;              // Get cell value
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<pre class="prettyprint lang-c linenums" data-step="17">float get_cell(__read_only image2d_t grid, int x, int y) {
    const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE
            | CLK_ADDRESS_REPEAT
            | CLK_FILTER_NEAREST;

    int2 coordinate = (int2)(x, y);

    float4 cellPixel = read_imagef(grid, sampler, coordinate);
    float cellValue = cellPixel.x;

    return cellValue;                           // Return cell value
}

__kernel void grayscaleFilter(
        __read_only image2d_t sourceImage,
        __write_only image2d_t destImage) {
    // ...
</pre> <!-- } -->

<script type="text/javascript">
    PR.prettyPrint();
</script>
